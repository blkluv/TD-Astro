---
import { testimonials } from "@/config/landing";
import HeaderSection from "./header-section.astro";
---

<section>
  <div class="container flex max-w-7xl flex-col gap-10 py-32 sm:gap-y-16">
    <HeaderSection
      label="Portals"
      title="Explore the TWERK.DANCE TwerkVerse"
      subtitle="Each portal is its own experience."
    />

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {testimonials.map((item, index) => {
        // Remove debug text and fix emoji display
        const cleanName = item.name.replace(/[^\w\s\.\-]/g, '').trim(); // Remove non-alphanumeric chars (emojis)
        
        return (
          <div key={index} class="break-inside-avoid rounded-xl border bg-muted/25 p-6 hover:bg-muted/40 transition-colors">
            <div class="flex items-center gap-3 mb-4">
              <div class="flex size-10 items-center justify-center rounded-full border bg-background text-xl">
                {/* Manually set emojis based on the item */}
                {index === 0 && "ğŸ’ƒ"}
                {index === 1 && "ğŸ†"} 
                {index === 2 && "ğŸµ"}
                {index === 3 && "ğŸ“º"}
                {index === 4 && "ğŸ’¸"}
                {index === 5 && "ğŸ’"}
              </div>
              <div>
                <p class="font-semibold text-foreground">{cleanName}</p>
                <p class="text-sm text-muted-foreground">{item.job}</p>
              </div>
            </div>
            
            <p class="text-muted-foreground mb-4">{item.review}</p>
            
            <a 
              href={item.link} 
              target="_blank" 
              rel="noopener noreferrer"
              class="text-blue-600 hover:text-blue-700 text-sm font-medium inline-flex items-center gap-1"
            >
              {item.cta || "Visit Portal"} â†’
            </a>
          </div>
        );
      })}
    </div>
  </div>
</section>